<div class="view-base  view-background-color">
    <div class="view-container">
        <div class="view-image-wrapper">
            <img id="view-game-background" src="../assets/backgrounds/game.png" class="view-background-image" draggable="false">
            <div class="view-overlay-grid">
                <!-- TOURNAMENT HEADING -->
                <div id="game-view-tournament-name" class="grid-cell default-grid-area tname mention-tournament" style="display: none;"></div>
                <!-- LEFT PLAYER -->
                <h2 id="player-left-username" class="grid-cell default-grid-area lun user-card username mention-user"></h2>
                <div                          class="grid-cell default-grid-area lav user-card">
                    <img id="player-left-avatar" class="user-image mention-user" src="/media/avatars/c0ff26c3-0acc-4c9c-ae69-a65e88421b75.png" draggable="false">
                </div>
                <div class="grid-cell default-grid-area lst user-card user-state">
                    <h4  id="player-left-state"           class="user-state"></h4>
                    <div id="player-left-state-spinner"   class="spinner-grow" style="align-self: center;" role="status">
                        <span class="sr-only"></span>
                    </div>
                    <div id="player-left-powerups-status" class="player-powerup-status-container" >
                        <img id="player-left-powerups-slow"   class="player-powerup-status" src="" draggable="false">
                        <img id="player-left-powerups-fast"   class="player-powerup-status" src="" draggable="false">
                        <img id="player-left-powerups-big"    class="player-powerup-status" src="" draggable="false">
                    </div>
                </div>
                <h5 id="player-left-controls" class="grid-cell default-grid-area user-card ctrll"></h5>
                <!-- RIGHT PLAYER -->
                <h2 id="player-right-username" class="grid-cell default-grid-area run user-card username mention-user"></h2>
                <div                           class="grid-cell default-grid-area rav user-card">
                    <img id="player-right-avatar" class="user-image mention-user" src="/media/avatars/a75be01d-8f1f-4ab2-9527-880487ad48ea.png" draggable="false">
                </div>
                <div class="grid-cell default-grid-area rst user-card user-state">
                    <h4  id="player-right-state"           class="user-state"></h4>
                    <div id="player-right-state-spinner"   class="spinner-grow" style="align-self: center;" role="status">
                        <span class="sr-only"></span>
                    </div>
                    <div id="player-right-powerups-status" class="player-powerup-status-container" >
                        <img id="player-right-powerups-slow"   class="player-powerup-status" src="" draggable="false">
                        <img id="player-right-powerups-fast"   class="player-powerup-status" src="" draggable="false">
                        <img id="player-right-powerups-big"    class="player-powerup-status" src="" draggable="false">
                    </div>
                </div>
                <h5 id="player-right-controls" class="grid-cell default-grid-area user-card ctrlr"></h5>
                <!-- GAME FIELD -->
                <div id="game-view-middle-side-container-top-text"  class="grid-cell default-grid-area field"></div>
                <canvas id="game-field"                             class="grid-cell default-grid-area field"></canvas>
                <img id="game-countdown-image"                      class="grid-cell default-grid-area field countdown-image" style="display: none;" draggable="false">

                <button id="button-play-again"                      class="grid-cell default-grid-area modal-button btnpa"></button>
                <button id="button-leave-lobby"                     class="grid-cell default-grid-area modal-button btnl"></button>
                <button id="button-quit-game"                       class="grid-cell default-grid-area modal-button btnq"></button>
            </div>
        </div>
    </div>
</div>
<style>
    /* The basic valus of the grid are already set in main.css */
    .view-overlay-grid {
        grid-template-columns: repeat(auto-fill, 2.5%);
        grid-template-rows: repeat(auto-fill, 5%);
        grid-template-areas:
            ".      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     "
            ".      .      .      .      .      .      .      .      .      .      .      tname  tname  tname  tname  tname  tname  tname  tname  tname tname  tname  tname  tname  tname  tname  tname  tname tname   .      .      .      .      .      .      .      .      .      .      .     "
            ".      .      .      .      .      .      .      .      .      .      .      tname  tname  tname  tname  tname  tname  tname  tname  tname tname  tname  tname  tname  tname  tname  tname  tname tname   .      .      .      .      .      .      .      .      .      .      .     "
            ".      lun    lun    lun    lun    .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      run    run    run    run    .     "
            ".      lav    lav    lav    lav    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rav    rav    rav    rav    .     "
            ".      lav    lav    lav    lav    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rav    rav    rav    rav    .     "
            ".      lav    lav    lav    lav    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rav    rav    rav    rav    .     "
            ".      lav    lav    lav    lav    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rav    rav    rav    rav    .     "
            ".      lav    lav    lav    lav    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rav    rav    rav    rav    .     "
            ".      lst    lst    lst    lst    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rst    rst    rst    rst    .     "
            ".      lst    lst    lst    lst    .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      rst    rst    rst    rst    .     "
            ".      ctrll  ctrll  ctrll  ctrll  .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      ctrlr  ctrlr  ctrlr  ctrlr  .     "
            ".      ctrll  ctrll  ctrll  ctrll  .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      ctrlr  ctrlr  ctrlr  ctrlr  .     "
            ".      ctrll  ctrll  ctrll  ctrll  .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      ctrlr  ctrlr  ctrlr  ctrlr  .     "
            ".      ctrll  ctrll  ctrll  ctrll  .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      ctrlr  ctrlr  ctrlr  ctrlr  .     "
            ".      ctrll  ctrll  ctrll  ctrll  .      .      .      .      .      field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field  field field  field  .      .      .      .      .      ctrlr  ctrlr  ctrlr  ctrlr  .     "
            ".      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     "
            ".      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .      .     "
            ".      btnl   btnl   btnl   btnl   .      .      .      .      .      .      .      .      .      .      .      btnpa  btnpa  btnpa  btnpa btnpa  btnpa  btnpa  btnpa  .      .      .      .      .      .      .      .      .      .      .      btnq    btnq   btnq   btnq  .     "
            ".      btnl   btnl   btnl   btnl   .      .      .      .      .      .      .      .      .      .      .      btnpa  btnpa  btnpa  btnpa btnpa  btnpa  btnpa  btnpa  .      .      .      .      .      .      .      .      .      .      .      btnq    btnq   btnq   btnq  .     "
    }

    /* FOR EACH GRID AREA WE NEED TO DEFINE THE STYLES */
    .tname {
        grid-area: tname;
        background-color: rgba(20, 15, 15, 0.726);
        color: rgb(255, 255, 255) !important;
        border: 0.1vw solid white;
        border-radius: 3px;
        height: 90%;
        font-size: min(10vw, 20px);
        font-weight: bold;
        text-align: center;
    }
    .lun {
        grid-area: lun;
        border-top-left-radius: 3px;
        border-top-right-radius: 3px;
        border-top: 0.3vw solid rgb(143, 148, 112);
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }
    .lav {
        grid-area: lav;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }
    .lst {
        grid-area: lst;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }
    .ctrlr {
        grid-area: ctrlr;
        color: white;
        text-align: left !important;
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
        border-bottom: 0.3vw solid rgb(143, 148, 112);
        padding: 5px;
    }
    .ctrll {
        grid-area: ctrll;
        color: white;
        text-align: left !important;
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
        border-bottom: 0.3vw solid rgb(143, 148, 112);
        padding: 5px;
    }

    .run {
        grid-area: run;
        border-top-left-radius: 3px;
        border-top-right-radius: 3px;
        border-top: 0.3vw solid rgb(143, 148, 112);
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }
    .rav {
        grid-area: rav;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }
    .rst {
        grid-area: rst;
        border-left: 0.3vw solid rgb(143, 148, 112);
        border-right: 0.3vw solid rgb(143, 148, 112);
    }

    /* BUTTONS */
    .btnl {
        grid-area: btnl;
        height: 75%;
    }
    .btnq {
        grid-area: btnq;
        height: 75%;
    }
    .btnpa {
        grid-area: btnpa;
        height: 75%;
    }

    /* FIELD */
    .field {
        grid-area: field;
        background-color: #3f323f00;
        border: 1px solid black;
        justify-content: center;
        align-items: center;
        border: none;
    }

    /* COSTOM STYLE FOR ELEMENTS BELOW */
    #game-view-middle-side-container-top-text{
        width: 100%;
        height: auto;
        background-color: rgba(0, 0, 0, 0.815);
        color: white;
        padding: 5px;
        text-align: center;
    }

    .user-card {
        background-color: #f8ebd7b2;
        color: black !important;
        text-align: center;
    }
    .user-card-winner {
        filter: brightness(110%);

    }
    .user-card-looser {
        filter: brightness(50%);
    }

    .username {
        font-size: 1.3vw;
        padding-top: 5%;
        align-self: center;
    }
    .user-image {
        width: 80%;
        border-radius: 3px;
        object-fit: contain;
        align-self: center;
    }

    .countdown-image {
        height: 50%;
        object-fit: contain;
    }

    .player-powerup-status-container {
        display: flex;
        flex: row;
        width: 80%;
        height: 80%;
        justify-content: center;
        align-items: center;
        align-self: center;
        background-color: rgba(90, 90, 70, 0.2);
        border-radius: 5px;
    }
    .player-powerup-status {
        margin: 5px;
        border-radius: 5px;
        width: 30%;
        transition: all 0.3s ease;
    }

    /* Powerup status styles */
    .powerup-unavailable {
        opacity: 0.5;
        filter: grayscale(100%);
    }

    .powerup-available {
        opacity: 1;
        border: 2px solid #4CAF50;
        box-shadow: 0 0 5px #4CAF50;
    }

    .powerup-using {
        opacity: 1;
        border: 2px solid #FF9800;
        box-shadow: 0 0 10px #FF9800;
    }

    .powerup-used {
        opacity: 0.7;
        filter: sepia(50%);
    }

    /* Animation for active powerups */
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }
</style>