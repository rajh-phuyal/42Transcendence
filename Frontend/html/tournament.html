<div class="view-base view-background-color">
    <div class="view-container">
        <div class="view-image-wrapper">
            <img src="../assets/backgrounds/tournament.png" class="view-background-image" draggable="false">
            <div class="view-overlay-grid">
                <!-- LEFT SIDE -->
                <!-- LEFT SIDE TOP -->
                <div class="grid-cell default-grid-area blk"></div>
                <div class="grid-cell default-grid-area tpriv">
                    <img id="tournament-privacy-img" src="../assets/icons_128x128/icon_tournament_private.png" draggable="false">
                </div>
                <div class="grid-cell default-grid-area tstate">
                    <img id="tournament-state-img" src="../assets/icons_128x128/icon_tournament_state_finished.png" draggable="false">
                </div>
                <div class="grid-cell default-grid-area ttype">
                    <img id="tournament-type-img" src="../assets/icons_128x128/icon_tournament_local.png" draggable="false">
                </div>
                <button id="button-tab-members"                 class="grid-cell default-grid-area modal-button modal-toggle-button modal-toggle-button-disabled btn-sidebar btnmem tournament-tabs" style="display: none;" tab="members"></button>
                <button id="button-tab-finals"                  class="grid-cell default-grid-area modal-button modal-toggle-button modal-toggle-button-disabled btn-sidebar btnfin tournament-tabs" style="display: none;" tab="finals"></button>
                <button id="button-tab-round-robin"             class="grid-cell default-grid-area modal-button modal-toggle-button modal-toggle-button-disabled btn-sidebar btnrro tournament-tabs" style="display: none;" tab="round-robin"></button>
                <button id="button-tab-games-upcoming"          class="grid-cell default-grid-area modal-button modal-toggle-button modal-toggle-button-disabled btn-sidebar btngup tournament-tabs" style="display: none;" tab="games-upcoming"></button>
                <button id="button-tab-games-finished"          class="grid-cell default-grid-area modal-button modal-toggle-button modal-toggle-button-disabled btn-sidebar btngfi tournament-tabs" style="display: none;" tab="games-finished"></button>
                <!-- LEFT SIDE BOTTOM -->
                <button id="button-leave-lobby"                 class="grid-cell default-grid-area modal-button btn-sidebar btnl"></button>

                <!-- MIDDLE -->
                <h3  id="tournament-name"                   class="grid-cell default-grid-area tname"></h3>
                <div class="grid-cell default-grid-area cont">
                    <div id="container-members"                 class="cont-centered barely-a-scroll-class"  style="display: none;">
                        <div id="container-members-list"        class="barely-a-scroll-class"></div>
                        <button id="button-subscribe"           class="modal-button" style="display: none;"></button>
                        <button id="button-start"               class="modal-button" style="display: none;"></button>
                    </div>
                    <div id="container-finals"                 class="cont-centered barely-a-scroll-class" style="display: none;">
                        <!-- Podium -->
                        <div id="tournament-podium-container">
                            <div id="tournament-podium-second" class="tournament-podium-step">
                                <h1 class="tournament-podium-question-mark">?</h1>
                                <img id="tournament-podium-second-avatar" class="tournament-podium-avatar" draggable="false">
                                <h5 id="tournament-podium-second-username" class="tournament-podium-username"></h5>
                            </div>
                            <div id="tournament-podium-first" class="tournament-podium-step">
                                <h1 class="tournament-podium-question-mark">?</h1>
                                <img id="tournament-podium-first-avatar" class="tournament-podium-avatar" draggable="false">
                                <h5 id="tournament-podium-first-username" class="tournament-podium-username"></h5>
                            </div>
                            <div id="tournament-podium-third" class="tournament-podium-step">
                                <h1 class="tournament-podium-question-mark">?</h1>
                                <img id="tournament-podium-third-avatar" class="tournament-podium-avatar" draggable="false">
                                <h5 id="tournament-podium-third-username" class="tournament-podium-username"></h5>
                            </div>
                        </div>
                        <!-- Final Games -->
                        <div id="tournment-finals-diagram"></div>
                    </div>
                    <div id="container-round-robin"       class="cont-centered" style="display: none;">
                        <div class="barely-a-scroll-class">
                            <table id="tournament-rank-table">
                                <thead id="tournament-rank-table-header">
                                    <tr>
                                        <th id="tournament-rank-table-header-rank"></th>
                                        <th id="tournament-rank-table-header-player"></th>
                                        <th id="tournament-rank-table-header-wins"></th>
                                        <th id="tournament-rank-table-header-diff"></th>
                                        <th id="tournament-rank-table-header-games"></th>
                                    </tr>
                                </thead>
                                <tbody id="tournament-rank-table-body">
                                <!-- where the rank rows will be -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="container-games-upcoming" class="cont-centered barely-a-scroll-class" style="display: none;">
                        <div id="container-games-upcoming-list" class="barely-a-scroll-class"></div>
                    </div>
                    <div id="container-games-finished" class="cont-centered barely-a-scroll-class" style="display: none;">
                        <div id="container-games-finished-list" class="barely-a-scroll-class"></div>
                    </div>
                </div>
                <!-- RIGHT SIDE -->
                <button id="button-delete"                      class="grid-cell default-grid-area modal-button btn-sidebar btnd" style="display: none;"></button>
            </div>
        </div>
    </div>
</div>
<style>
    .view-overlay-grid {
        grid-template-columns: repeat(auto-fill, 5%);
        grid-template-rows: repeat(auto-fill, 5%);
        grid-template-areas:
            "blk    blk    blk    tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tstate tpriv  ttype "
            "blk    blk    blk    tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tname  tstate tpriv  ttype "
            "btnmem btnmem btnmem cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnmem btnmem btnmem cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnfin btnfin btnfin cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnfin btnfin btnfin cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnrro btnrro btnrro cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnrro btnrro btnrro cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btngfi btngfi btngfi cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btngfi btngfi btngfi cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btngup btngup btngup cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btngup btngup btngup cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
            "btnl   btnl   btnl   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   btnd   btnd   btnd  "
            "btnl   btnl   btnl   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   btnd   btnd   btnd  "
            ".      .      .      cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   cont   .      .      .     "
    }

    .blk {
        grid-area: blk;
        background-color: rgba(0, 0, 0, 0.815);
    }
    .tpriv {
        grid-area: tpriv;
        background-color: rgba(0, 0, 0, 0.815);
    }
    .ttype {
        grid-area: ttype;
        background-color: rgba(0, 0, 0, 0.815);
    }
    .tstate {
        grid-area: tstate;
        background-color: rgba(0, 0, 0, 0.815);
    }
    #tournament-privacy-img,
    #tournament-state-img,
    #tournament-type-img {
        align-self: center;
        height: 70% !important;
        width: auto !important;
    }
    .tname {
        grid-area: tname;
        background-color: rgba(0, 0, 0, 0.815);
        color: white;
    }
    .cont {
        grid-area: cont;
    }

    /* BUTTONS */
    .btn-sidebar {
        height: 90%;
        width:90%;
    }
    .btnmem {
        grid-area: btnmem;
    }
    .btnfin {
        grid-area: btnfin;
    }
    .btnrro {
        grid-area: btnrro;
    }
    .btngup {
        grid-area: btngup;
    }
    .btngfi {
        grid-area: btngfi;
    }

    .btnl {
        grid-area: btnl;
    }
    .btnd {
        grid-area: btnd;
    }

    /* CENTER THE CONT STUFF */
    .cont-centered {
        display: flex;
        flex-direction: column;
        align-items: center;
        align-self: center;
        align-content: center;
        justify-self: center;
        justify-content: center;
        height: 100%;
        width: 100%;
    }
    /* DEFAULT STYLE FOR ALL CARDS: Members, Games, Ranks */
    .default-card-container {
        display: flex;
		align-items: center;
		padding: 5px 5px;
        height: 70px;
        background-color: rgba(217, 217, 217, 0.753);
		border: 1px solid black;
        border-radius: 4px;
        cursor: pointer;
        margin: 5px;
        box-sizing: border-box; /* We need this: it fixes the scroll height */
    }

    /* STYLE FOR THE PODIUM */
	#tournament-podium-container {
		display: flex;
		flex-direction: row;
		justify-content: center;
		align-items: end;
		width: 100%;
		height: 50%;
	}
	.tournament-podium-step {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-items: center;
		background-color: black;
		color: white;
		margin: 2%;
		border-radius: 10%;
		width: 15%;
        cursor: pointer;
	}
	.tournament-podium-username {
		display: none;
	}
	.tournament-podium-avatar {
		width: 50%;
        padding: 15px;
		display: none;
	}
    #tournament-podium-first {
        height: 80%;
        color: gold;
    }
	#tournament-podium-second {
		height: 70%;
		color: silver;
	}
	#tournament-podium-third {
		height: 50%;
		color: #E1C16E;
	}
	.tournament-podium-question-mark {
        padding: 5px;
		color: white;
	}
</style>

<!-- TEMPLATE PARTICIPANTS CARD-->
<template id="tournament-member-card-template">
    <div class="default-card-container tournament-member-card-container" userid="">
        <img class="tournament-member-card-avatar" draggable="false">
        <img class="tournament-member-admin-icon" src="../assets/icons_128x128/icon_tournament_admin.png" draggable="false" style="display: none;">
        <h4 class="tournament-member-card-username"></h4>
    </div>
</template>
<style>
    #button-start,
    #button-subscribe {
        margin: 25px;
    }
    .tournament-member-card-container {
        width: 300px;
    }
    .tournament-member-card-avatar {
        height: 100%;
        padding: 1px;
    }
    .tournament-member-admin-icon {
        height: 100%;
        padding: 5px;
    }
    .tournament-member-card-username {
        padding: 5px;
    }
</style>

<!-- TEMPLATE GAME CARD -->
<template id="tournament-game-card-template">
    <div class="default-card-container tournament-game-card-container" gameid="">
        <img class="grid-cell default-grid-area avt1 tournament-game-card-player-left-avatar" >
        <h5  class="grid-cell default-grid-area usrn1 tournament-game-card-player-left-username"></h5>
        <h4  class="grid-cell default-grid-area score tournament-game-card-score"></h4>
        <h5  class="grid-cell default-grid-area usrn2 tournament-game-card-player-right-username"></h5>
        <img class="grid-cell default-grid-area avt2 tournament-game-card-player-right-avatar"  draggable="false">
    </div>
</template>
<style>
    #container-games-upcoming,
    #container-games-finished {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .tournament-game-card-container {
        display: grid;
        align-items: center;
        justify-content: space-between;
        width: 500px;
        grid-template-columns: repeat(auto-fill, 12.5%);
        grid-template-rows: repeat(auto-fill, 25%);
        grid-template-areas:
            "avt1  .      .     .     .      .      .      avt2 "
            "avt1  usrn1  usrn1 score score  usrn2  usrn2  avt2 "
            "avt1  usrn1  usrn1 score score  usrn2  usrn2  avt2 "
            "avt1  .      .     .     .      .      .      avt2 ";
    }
    .avt1{
        grid-area: avt1;
        object-fit: contain;
    }
    .avt2{
        grid-area: avt2;
        object-fit: contain;
    }
    .usrn1{
        grid-area: usrn1;
    }
    .usrn2{
        grid-area: usrn2;
    }
    .score{
        grid-area: score;
    }
    /* Animation for a game client should join */
    @keyframes pulse-game-card {
        0% {
            background-color: rgba(211, 228, 185, 0.753);
        }
        100% {
            background-color: rgba(150, 167, 123, 0.753);
        }
    }
    /* Animation if score changed */
    @keyframes pulse-score {
        0% {
            transform: scale(1);
        }
        20% {
            transform: scale(1.5);
        }
        100% {
            transform: scale(1);
        }
    }
</style>

<!-- TEMPLATE ROUND ROBIN RANK TABLE ROW -->
<template id="tournament-rank-row-template">
    <tr class="tournament-rank-row">
        <td class="tournament-rank-row-position"></td>
        <td class="tournament-rank-row-user">
            <div class="tournament-rank-row-user-wrapper">
                <img class="tournament-rank-row-avatar"  draggable="false">
                <h5 class="tournament-rank-row-username"></h5>
            </div>
        </td>
        <td class="tournament-rank-row-wins"></td>
        <td class="tournament-rank-row-diff"></td>
        <td class="tournament-rank-row-games"></td>
    </tr>
</template>
<style>
    .tournament-rank-row-avatar {
		height: 50px;
        padding: 2px 2px;
	}
	.tournament-rank-row-user-wrapper {
		display: flex;
		flex-direction: row;
		align-items: center;
        gap: 5px;
	}
	.tournament-rank-row {
		display: table-row;
		flex-direction: row;
		width: 100%;
		height: 20%;
        cursor: pointer;
	}
	#tournament-rank-table {
        width: 30vw;
		height: auto;
        justify-self: center;
        align-self: center;
		background-color: rgba(0, 0, 0, 0.766);
		color: white;
		border: 2px solid white;
		border-collapse: collapse;
	}
    #tournament-rank-table,
    #tournament-rank-table th,
    #tournament-rank-table td {
        border: 1px solid white;
    }
    th, td {
        padding: 8px;
        text-align: center;
        overflow: hidden;
    }
</style>

<!-- TEMPLATE FINAL GAME -->
<template id="tournament-finals-template">
    <div class="default-card-container tournament-finals-diagram-container">
        <h5 class="finals-title"></h5>
        <img class="finals-player-left-avatar tournament-finals-diagram-avatar" draggable="false">
        <h6 class="finals-player-left-username"></h6>
        <h5 class="finals-score"></h5>
        <h6 class="finals-player-right-username"></h6>
        <img class="finals-player-right-avatar tournament-finals-diagram-avatar" draggable="false">
    </div>
</template>
<style>
    #tournment-finals-diagram {
        display: flex;
        flex-direction: column;
        height: 50%;
        width: 100%;
        align-self: center;
        justify-self: center;
        align-items: center;
    }
    .tournament-finals-diagram-container {
		display: grid;
		color: white;
		height: 20%;
		width: 70%;
		align-items: center;
		background-color: rgba(0, 0, 0, 0.712);
		grid-template-rows: 50% 50%;
        grid-template-columns: 20% 20% 20% 20% 20%;
		grid-template-areas:
			"finals-player-left-avatar finals-player-left-username  finals-title        finals-player-right-username    finals-player-right-avatar"
			"finals-player-left-avatar finals-player-left-username  finals-score        finals-player-right-username    finals-player-right-avatar";

	}
    .finals-title {
		grid-area: finals-title;
        font-weight: bold;
	}
	.finals-player-left-avatar {
		grid-area: finals-player-left-avatar;
        justify-self: center;
	}
	.finals-player-left-username {
		grid-area: finals-player-left-username;
	}
	.finals-score {
		grid-area: finals-score;
	}
	.finals-player-right-username {
		grid-area: finals-player-right-username;
	}
	.finals-player-right-avatar {
		grid-area: finals-player-right-avatar;
        justify-self: center;
	}
    .tournament-finals-diagram-avatar {
		height: 100%;
	}
</style>